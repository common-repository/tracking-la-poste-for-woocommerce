jQuery(function(a){var b={init:function(){a("#la-poste-tracking-for-woocommerce").on("click","a.delete-tracking",this.delete_tracking).on("click","button.button-show-form",this.show_form).on("click","button.button-save-form",this.save_form)},save_form:function(){if(!a("input#tracking_number").val())return!1;a("#la-poste-tracking-form").block({message:null,overlayCSS:{background:"#fff",opacity:.6}});var b={action:"WC_La_Poste_Tracking_save_form",order_id:woocommerce_admin_meta_boxes.post_id,tracking_number:a("input#tracking_number").val(),date_shipped:a("input#date_shipped").val(),security:a("#WC_La_Poste_Tracking_create_nonce").val()};return a.post(woocommerce_admin_meta_boxes.ajax_url,b,function(b){a("#la-poste-tracking-form").unblock(),"-1"!=b&&(a("#la-poste-tracking-form").hide(),a("#la-poste-tracking-for-woocommerce #tracking-items").append(b),a("#la-poste-tracking-for-woocommerce button.button-show-form").show(),a("input#tracking_number").val(""),a("input#date_shipped").val(""))}),!1},show_form:function(){a("#la-poste-tracking-form").show(),a("#la-poste-tracking-for-woocommerce button.button-show-form").hide()},delete_tracking:function(){var b=a(this).attr("rel");a("#tracking-item-"+b).block({message:null,overlayCSS:{background:"#fff",opacity:.6}});var c={action:"WC_La_Poste_Tracking_delete_item",order_id:woocommerce_admin_meta_boxes.post_id,tracking_id:b,security:a("#WC_La_Poste_Tracking_delete_nonce").val()};return a.post(woocommerce_admin_meta_boxes.ajax_url,c,function(c){a("#tracking-item-"+b).unblock(),"-1"!=c&&a("#tracking-item-"+b).remove()}),!1}};b.init()});